<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <style>
            

            *{
                box-sizing:border-box;
                font-size:1.1em;
                border: solid 1px red;
            }
            div {
               text-align: center;
            }
            #main-div {
                max-width:1080px;
                margin:auto;
                display:flex;
                flex-direction: column;
                justify-content: center;
            }
            #game-heading{
                flex: 1;
            }

            #display {
                /* margin:20px 0; */
                height: 450px;
                /* height: 30vh; */
            }

            #winner-display {
                display: flex;
                flex-direction: column;
                justify-content: space-evenly;
                width: 90%;
                height: auto;
                margin: 1.2% 5%;
            }
            /* #winner-display div {
               
             } */
             
            #button-box{
                display:flex;
                justify-content: space-around;
                
            }
            #btn1, #btn2, #btn3 {
                width:175px;
                height:75px;
                margin: 20px auto;
                                
               
            }
           

            
        </style>
    </head>

    <body>
        <div id="button-box">
        <button id="btn1">Rock</button>
        <button id="btn2">Paper</button>
        <button id="btn3">Scissors</button>
        </div>

        <script>
             // Start the game by waiting for the first button click event///



             waitForButtonClick();
            const answers = ["rock", "paper", "scissors"];
            
            let currentRound = 1;
            let playerScore = 0;
            let playerWins = 0;
            let draw = 0;
            let computerScore = 0;
            let computerWins = 0;






            //////////////////HTML//////////////////////////

            // Main div after title //
            const gameResultDiv = document.createElement('div');
            gameResultDiv.setAttribute('id', 'main-div');
                document.body.prepend(gameResultDiv);


             //GameDivHeading
            const gameDivHeading = document.createElement('h1');
                gameDivHeading.setAttribute('id', 'game-heading')
                gameDivHeading.textContent = 'Play Game';
                gameResultDiv.append(gameDivHeading);

            //DisplayHeading
            const displayHeading = document.createElement('h7');
                displayHeading.textContent = '';
                gameResultDiv.append(displayHeading);


            
            //RoundDisplay
            const roundDisplay = document.createElement('div');
                roundDisplay.setAttribute('id', 'round-display');
                roundDisplay.textContent = 'Round: 0';
                displayHeading.append(roundDisplay);
                console.log(roundDisplay)


            ////PlayersTitles
            const playersTitles = document.createElement('div');
                playersTitles.style.display = 'flex';
                displayHeading.append(playersTitles);

            //PlayTitle
            const playTitle = document.createElement('div');
                playTitle.textContent = 'Player Stats';
                playTitle.style.flex = '.50';
                playTitle.style.textAlign = 'left';
                playersTitles.append(playTitle);



            ////CompTitle
            const compTitle = document.createElement('div');
                compTitle.textContent = 'Computer Stats';
                compTitle.style.flex = '.50';
                compTitle.style.textAlign = 'right';
                playersTitles.append(compTitle);

             //////////////   

            //Display
            const display = document.createElement('div');
                display.setAttribute('id', 'display');
                display.style.display = 'flex';
                gameResultDiv.append(display);

            
            //DisplaySubDiv
            const displaySubDiv = document.createElement('div');
                displaySubDiv.setAttribute('id', 'display-sub-div');
                displaySubDiv.style.flex = '.25';
                display.append(displaySubDiv);

            ///DisplaySubcontainer                                  ////////**
            const displaySubContainer = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container');
            // displaySubContainer.style.padding = '1vh 0';
            // displaySubContainer2.style.flexDirection = '';
            displaySubDiv.append(displaySubContainer);

            //PlayerSelection                                   ////////
            const playerSelection = document.createElement('div');
                playerSelection.textContent = ' Choice: ';
                playerSelection.style.padding = '2vh 10px'; 
                playerSelection.style.height = '200px';
                playerSelection.style.textAlign = 'left';
                // playerSelection.style.overflow = 'hidden';
                displaySubContainer.append(playerSelection);

            //PlayerCurrentPoints                                      /////
            const playerCurrentPoints = document.createElement('div');
                playerCurrentPoints.textContent = ' Score: ';
                playerCurrentPoints.style.padding = '2vh 10px'; 
                playerCurrentPoints.style.textAlign = 'left';
                displaySubContainer.append(playerCurrentPoints);

            //PlayerGameWins                                    ////////
            const playerGameWins = document.createElement('div');
                playerGameWins.textContent = ' Games won:';
                playerGameWins.style.textAlign = 'left';
                playerGameWins.style.padding = '2vh 10px'; 
                displaySubContainer.append(playerGameWins);

                ////33333
            //DisplaySubDiv3
            const displaySubDiv3 = document.createElement('div');
                displaySubDiv3.setAttribute('id', 'display-sub-div3');
                displaySubDiv3.style.flex = '.50';
                // displaySubDiv3.style.justifyContent ='space-between';
                display.append(displaySubDiv3);


            ///DisplaySubcontainer3
            const displaySubContainer3 = document.createElement('div');
            displaySubContainer3.setAttribute('id', 'display-sub-container3');
            displaySubDiv3.append(displaySubContainer3);

            ////
            //DisplaySubDiv2
            const displaySubDiv2 = document.createElement('div');
                displaySubDiv2.setAttribute('id', 'display-sub-div2');
                displaySubDiv2.style.flex = '.25';
                display.append(displaySubDiv2)

            ///DisplaySubcontainer2 computer game info box
            const displaySubContainer2 = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container2');
            displaySubContainer2.style.justifyContent = 'space-between';
            displaySubContainer2.style.flexDirection = 'column';
            displaySubDiv2.append(displaySubContainer2);

            //ComputerSelection                                    //*****
            const computerSelection = document.createElement('div');
                computerSelection.textContent = ' Choice: ';
                computerSelection.style.textAlign = 'left';
                computerSelection.style.height = '200px';
                computerSelection.style.padding = '2vh 10px'; 
                displaySubContainer2.append(computerSelection);
    

            //ComputerCurrentPoints                               //*****
            const computerCurrentPoints = document.createElement('div');
                computerCurrentPoints.textContent = ' Score: ';
                computerCurrentPoints.style.textAlign = 'left';
                computerCurrentPoints.style.padding = '2vh 10px'; 
                displaySubContainer2.append(computerCurrentPoints);

            //CompyterGameWins                              ///*******
            const computerGameWins = document.createElement('div');
                computerGameWins.textContent = ' Games Won:';
                computerGameWins.style.textAlign = 'left';
                computerGameWins.style.padding = '2vh 10px'; 
                displaySubContainer2.append(computerGameWins);


            //*************************************************////

            ///WinnerDisplay                //////////////////////
            const winnerDisplay = document.createElement('div');
            winnerDisplay.setAttribute('id', 'winner-display');
            // winnerDisplay.
            
            displaySubDiv3.append(winnerDisplay);


            ///SubHeading
            const subHeading = document.createElement('div');
                subHeading.textContent = ''
                
                winnerDisplay.append(subHeading);
      
            //RondWinner     **********
            const roundWinner= document.createElement('div');
                roundWinner.textContent = 'Round Results';
                displaySubContainer3.append(roundWinner);
            
        /////END Of GAME /////////////////////////////    
            
            //GameOver        ***********
            const gameOver = document.createElement('div');
               winnerDisplay.append(gameOver);            
             
            //WinnerMessage       **********
            const winnerMessage = document.createElement('div');
                winnerDisplay.append(winnerMessage);

         ///////////////////BUTTONS///////////////////////////////

            ///ButtonsContainer
            const buttonsContainer = document.getElementById('button-box');
            gameResultDiv.append(buttonsContainer);

            //RockBtn
            const rockBtn = document.getElementById('btn1');
            // rockBtn.append()
            rockBtn.addEventListener('click', ()  => {
                startNewRound('rock'); 
                const imgRockDiv = document.createElement('div');
                imgRockDiv.style.maxWidth = 100;
                imgRockDiv.style.maxHeight = 100;
                playerSelection.innerHTML = '';
                playerSelection.append(imgRockDiv);
                const imgRockElement = document.createElement('img');

                imgRockElement.src = 'images/rock-left.png';    
                imgRockElement.alt = 'Rock hand sign';    
                // imgRockElement.width = 100;
                // imgRockElement.height = 100;
                imgRockDiv.append(imgRockElement);    
            });
            
            //PaperBtn
            const paperBtn = document.getElementById('btn2');
            paperBtn.addEventListener('click', ()  => {
                startNewRound('paper');
                const imgPaperDiv = document.createElement('div');
                imgPaperDiv.style.maxWidth = 100;
                imgPaperDiv.style.maxHeight = 100;
                playerSelection.innerHTML = '';
                playerSelection.append(imgPaperDiv);
                const imgPaperElement = document.createElement('img');
                imgPaperElement.src = 'images/paper-left.png';    
                imgPaperElement.alt = 'Paper hand sign';    
                imgPaperDiv.append(imgPaperElement);          
            });

            //ScissorsBtn
            const scissorBtn = document.getElementById('btn3');
            scissorBtn.addEventListener('click', ()  => {
                startNewRound('scissors'); 
                const imgScissorsDiv = document.createElement('div');
                imgScissorsDiv.style.maxWidth = 100;
                imgScissorsDiv.style.maxHeight = 100;
                playerSelection.innerHTML = '';
                playerSelection.append(imgScissorsDiv);
                const imgScissorsElement = document.createElement('img');
                imgScissorsElement.src = 'images/scissors-left.png';    
                imgScissorsElement.alt = 'Scissors hand sign';    
                imgScissorsDiv.append(imgScissorsElement); 
            });


            //FooterBar
            const footerBar = document.createElement('div');
            footerBar.textContent = 'footer bar'; 
            footerBar.style.height = '75px';
            console.log(footerBar)
            gameResultDiv.append(footerBar);

           
        //////////////////FUNCTIONS/////////////////////////////

            function getComputerAnswer(answers) {
                const randomIndex = Math.floor(Math.random() * answers.length);
                const randomAnswer = answers[randomIndex];
                    return randomAnswer;
                                
            }
           
            function playRound(playerChoices, computerChoices) {

                if (!answers.includes(playerChoices)) {
                    return "Player has to enter either: 'Rock', 'Paper' or 'Scissors'. \nTry Again"

                } 
                if (playerChoices === computerChoices){
                    draw++
                    return "It's a draw!";
                }
                else if ((playerChoices === 'scissors') && (computerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Rock breaks scissors Computer wins! 1 point`;


                } else if ((playerChoices === 'rock') && (computerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Rock breaks scissors Player Wins! 1 point.`


                } else if ((computerChoices === 'paper') && (playerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Scissors cut paper, Player wins! 1 point`;


                } else if ((computerChoices === 'scissors') && (playerChoices === 'paper')) {
                    computerWins++;
                    computerScore++;
                    return `Scissors cut paper, Computer wins!.1 point`;


                } else if ((computerChoices === 'paper') && (playerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Paper covers rock, Computer wins! 1 point`;


                } else if ((computerChoices === 'rock') && (playerChoices === 'paper')) {
                    playerWins++;
                    playerScore++;
                    return `Paper covers rock. Player wins 1 point`;


                }

            }

            // Function to start a new round
            function startNewRound(playerChoice) {
                subHeading.textContent = '';
                let computerChoices = getComputerAnswer(answers);
                const result = playRound(playerChoice, computerChoices);
            
                roundDisplay.textContent = `Round: ${currentRound}`;
                console.log(currentRound)
                roundWinner.textContent = result;
                computerSelection.textContent = ` ${computerChoices}`;
                playerSelection.textContent = ` ${playerChoice}`;
                playerCurrentPoints.textContent = ` Score: ${playerScore}`;
                computerCurrentPoints.textContent = ` Score: ${computerScore}`;
                playerGameWins.textContent = ` Games won: ${playerWins}`;
                computerGameWins.textContent = ` Games Won: ${computerWins}`;
                gameOver.textContent = '';
                winnerMessage.textContent = '';
                gameDivHeading.textContent = 'Game Play';
                

                if (computerChoices === "rock") {
                    const rockImg = document.createElement('img');
                    rockImg.src = 'images/rock-right.png';
                    computerChoices = rockImg;
                    computerSelection.innerHTML = '';
                    computerSelection.append(rockImg); 
                    console.log(computerChoices);
                    // currentRound++;

                    if (currentRound < 5) {
                            currentRound++;     
                        } 
                        else 
                        {
                            gameOver.textContent = 'Game over';
                            
                            if (playerScore > computerScore) {
                                winnerMessage.textContent = `You win the game! Score is Player: ${playerScore}, Computer: ${computerScore}`;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            } else if (computerScore > playerScore) {
                                winnerMessage.textContent = `Computer wins the game! Score is Player: ${playerScore}, Computer: ${computerScore}`;
                            } else {
                                winnerMessage.textContent = 'It\'s a tie! Score is Player: ' + playerScore + ', Computer: ' + computerScore;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            }
                            
                            currentRound = 1;
                            playerScore = 0;
                            playerWins = 0;
                            computerScore = 0;
                            computerWins = 0;                 
                            gameDivHeading.textContent = 'Game Results';
                            winnerDisplay.style.display = 'visible';
                            subHeading.textContent = 'Play Again!';
                            

             
                        }

                    return {computerChoices, playerChoice};

                } else if (computerChoices === "paper") {
                    const paperImg = document.createElement('img');
                    paperImg.src = 'images/paper-right.png';
                    computerChoices = paperImg;
                    computerSelection.innerHTML = '';
                    computerSelection.append(paperImg); 
                    console.log(computerChoices);
                    // currentRound++;

                    if (currentRound < 5) {
                         currentRound++;     
                        } 
                        else 
                        {
                            gameOver.textContent = 'Game over';
                            
                            if (playerScore > computerScore) {
                                winnerMessage.textContent = `You win the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            } else if (computerScore > playerScore) {
                                winnerMessage.textContent = `Computer wins the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                            } else {
                                winnerMessage.textContent = 'It\'s a tie! Score: Player ' + playerScore + ', Computer ' + computerScore;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            }
                            
                            currentRound = 1;
                            playerScore = 0;
                            playerWins = 0;
                            computerScore = 0;
                            computerWins = 0;                 
                            gameDivHeading.textContent = 'Game Results';
                            winnerDisplay.style.display = 'visible';
                            subHeading.textContent = 'Play Again!';
                            

                    
                    }

                    return computerChoices;

                } else if (computerChoices === "scissors") {
                    const scissorsImg = document.createElement('img');
                    scissorsImg.src = 'images/scissors-right.png';
                    computerChoices = scissorsImg;
                    computerSelection.innerHTML = '';
                    computerSelection.append(scissorsImg); 
                    console.log(computerChoices);
                    // currentRound++;

                    if (currentRound < 5) {
                        currentRound++;     
                        } 
                        else 
                        {
                            gameOver.textContent = 'Game over';
                            
                            if (playerScore > computerScore) {
                                winnerMessage.textContent = `You win the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            } else if (computerScore > playerScore) {
                                winnerMessage.textContent = `Computer wins the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                            } else {
                                winnerMessage.textContent = 'It\'s a tie! Score: Player ' + playerScore + ', Computer ' + computerScore;
                                subHeading.textContent = 'Play Again!';
                                winnerDisplay.append(subHeading);
                            }
                            
                            currentRound = 1;
                            playerScore = 0;
                            playerWins = 0;
                            computerScore = 0;
                            computerWins = 0;                 
                            gameDivHeading.textContent = 'Game Results';
                            winnerDisplay.style.display = 'visible';
                            subHeading.textContent = 'Play Again!';
                            

                    
                    }

                    return computerChoices;
                }
                else {
                    return 'Error, Please try again.';
                }
            }

            // Function to wait for button click event
            function waitForButtonClick() {
                const rockBtn = document.getElementById('btn1');
                const paperBtn = document.getElementById('btn2');
                const scissorBtn = document.getElementById('btn3');
            }

           
    
        </script>
    </body>

</html>