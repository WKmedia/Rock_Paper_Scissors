<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body>

        <button id="btn1">Rock</button>
        <button id="btn2">Paper</button>
        <button id="btn3">Scissors</button>


        <script>
             // Start the game by waiting for the first button click event
             waitForButtonClick();
            const answers = ["rock", "paper", "scissors"];
            let currentRound = 1;
            let playerScore = 0;
            let playerWins = 0;
            let draw = 'Draw, play again!';
            let computerScore = 0;
            let computerWins = 0;



            const rockBtn = document.getElementById('btn1');
            rockBtn.addEventListener('click', ()  => {
                startNewRound('rock');
                // const playerChoices = 'rock';
                // const computerChoices = getComputerAnswer(answers);
                // const result = playRound(playerChoices, computerChoices);
                // console.log(`Player picked ${playerChoices}`);
                // console.log(`Computer picked ${computerChoices}`);
                // console.log(result); 
                // console.log(`Score is Player: ${playerScore}, Computer ${computerScore} ` );
               // // console.log(computerWins);
               // // console.log(playerWins);
                
                
            })
        
            const paperBtn = document.getElementById('btn2');
            paperBtn.addEventListener('click', ()  => {
                startNewRound('paper');
                // const playerChoices = 'paper';
                // const computerChoices = getComputerAnswer(answers);
                // console.log(`Player picked ${playerChoices}`);
                // console.log(`Computer picked ${computerChoices}`);
                // const result = playRound(playerChoices, computerChoices);
                // console.log(result); 
                // console.log(`Score is Player: ${playerScore}, Computer ${computerScore} ` );

            })

            const scissorBtn = document.getElementById('btn3');
            scissorBtn.addEventListener('click', ()  => {
                startNewRound('scissors');
                // const playerChoices = 'scissors';
                // const computerChoices = getComputerAnswer(answers);
                // console.log(`Player picked ${playerChoices}`);
                // console.log(`Computer picked ${computerChoices}`);
                // const result = playRound(playerChoices, computerChoices);
                // console.log(result); 
                // console.log(`Score is Player: ${playerScore}, Computer ${computerScore} ` );
            })



            function getComputerAnswer(answers) {
                const randomAnswer = Math.floor(Math.random() * answers.length);
                return answers[randomAnswer];
            }
            
            function playRound(playerChoices, computerChoices) {

                if (!answers.includes(playerChoices)) {
                    return "Player has to enter either: 'Rock', 'Paper' or 'Scissors'. \nTry Again"

                } 
                if (playerChoices === computerChoices){
                    return "It's a draw!";
                }
                else if ((playerChoices === 'scissors') && (computerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Rock breaks scissors Computer wins! 1 point`;


                } else if ((playerChoices === 'rock') && (computerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Rock breaks scissors Player Wins! 1 point.`


                } else if ((computerChoices === 'paper') && (playerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Scissors cut paper, Player wins! 1 point`;


                } else if ((computerChoices === 'scissors') && (playerChoices === 'paper')) {
                    computerWins++;
                    computerScore++;
                    return `Scissors cut paper, Computer wins!.1 point`;


                } else if ((computerChoices === 'paper') && (playerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Paper covers rock, Computer wins! 1 point`;


                } else if ((computerChoices === 'rock') && (playerChoices === 'paper')) {
                    playerWins++;
                    playerScore++;
                    return `Paper covers rock. Player wins 1 point`;


                }

            }

            // Function to start a new round
            function startNewRound(playerChoice) {
                const computerChoices = getComputerAnswer(answers);
                console.log(`Round ${currentRound}: Player chose ${playerChoice}, Computer chose ${computerChoices}`);
                const result = playRound(playerChoice, computerChoices);
                console.log(result);
                console.log(`Computer Score: ${computerScore}. \nPlayer score: ${playerScore}`);
                
                // Move on to the next round or end the game
                if (currentRound < 5) {
                    currentRound++;
                        
                } 
                else 
                {
                    console.log('Game over');
                    console.log(computerWins);
                    console.log(playerWins);
                    if (playerScore > computerScore) {
                        console.log(`You win the game! Score: Player ${playerScore}, Computer ${computerScore}`);
                    } else if (computerScore > playerScore) {
                        console.log(`Computer wins the game! Score: Player ${playerScore}, Computer ${computerScore}`);
                    } else {
                        console.log('It\'s a tie! Score: Player ' + playerScore + ', Computer ' + computerScore);
                    }
                    currentRound = 1;
                    playerScore = 0;
                    playerWins = 0;
                    computerScore = 0;
                    computerWins = 0; 
                }
            }

            // Function to wait for button click event
            function waitForButtonClick() {
                const rockBtn = document.getElementById('btn1');
                const paperBtn = document.getElementById('btn2');
                const scissorBtn = document.getElementById('btn3');

                // rockBtn.addEventListener('click', () => {
                //     startNewRound('rock');
                // });

                // paperBtn.addEventListener('click', () => {
                //     startNewRound('paper');
                // });

                // scissorBtn.addEventListener('click', () => {
                //     startNewRound('scissors');
                // });
            }
            // Game play logic
            function game(playerChoice) {
                for (let round = 1; round <= 5; round++) {
                const computerChoices = getComputerAnswer(answers);
                console.log(`Round ${round}: Player chose ${playerChoice}, Computer chose ${computerChoices}`);
                const result = playRound(playerChoice, computerChoices);
                console.log(result);
                console.log(`Computer Score: ${computerScore}. \nPlayer score: ${playerScore}`);
                }
            }
    
        </script>
    </body>

</html>