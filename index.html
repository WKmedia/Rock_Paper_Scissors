<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <style>
            
            *{
                box-sizing:border-box;
                border: solid 1px red;
            }
            div {
               text-align: center;
            }
            #main-div {
                display:flex;
                flex-direction: column;
                justify-content: center;
            }
            #game-heading{
                flex: 1;
            }
            .button-box{
                display:flex;
                justify-content: space-around;
                
            }
            #btn1, #btn2, #btn3 {
                width:175px;
                height:75px;
                margin: 33px auto;
                                
               
            }
           

            
        </style>
    </head>

    <body>
        <div class="button-box">
        <button id="btn1">Rock</button>
        <button id="btn2">Paper</button>
        <button id="btn3">Scissors</button>
        </div>

        <script>
             // Start the game by waiting for the first button click event///



             waitForButtonClick();
            const answers = ["rock", "paper", "scissors"];
            let currentRound = 1;
            let playerScore = 0;
            let playerWins = 0;
            let draw = 0;
            let computerScore = 0;
            let computerWins = 0;






            //////////////////HTML//////////////////////////

            // Main div after title //
            const gameResultDiv = document.createElement('div');
            gameResultDiv.setAttribute('id', 'main-div');
                document.body.prepend(gameResultDiv);

            //GameDivHeading
            const gameDivHeading = document.createElement('h1');
                gameDivHeading.setAttribute('id', 'game-heading')
                gameDivHeading.textContent = 'Play Game';
                gameResultDiv.append(gameDivHeading);

            //DisplayHeading
            const displayHeading = document.createElement('h7');
                displayHeading.textContent = 'Display';
                gameResultDiv.append(displayHeading);






             //////////////   

            //Display
            const display = document.createElement('div');
                display.setAttribute('id', 'display')
                display.style.display = 'flex';
                gameResultDiv.append(display);

            
            //DisplaySubDiv
            const displaySubDiv = document.createElement('div');
                displaySubDiv.setAttribute('id', 'display-sub-div');
                displaySubDiv.style.flex = '.3332';
                display.append(displaySubDiv);

            ///DisplaySubcontainer                                  ////////**
            const displaySubContainer = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container');
            displaySubDiv.append(displaySubContainer);

            //PlayerSelection                                   ////////
            const playerSelecion = document.createElement('div');
                playerSelecion.textContent = 'Player choice: '; 
                playerSelecion.style.textAlign = 'left';
                displaySubContainer.append(playerSelecion);

            //PlayerCurrentPoints                                      /////
            const playerCurrentPoints = document.createElement('div');
                playerCurrentPoints.textContent = 'Player Score: ';
                playerCurrentPoints.style.textAlign = 'left';
                displaySubContainer.append(playerCurrentPoints);

            //PlayerGameWins                                    ////////
            const playerGameWins = document.createElement('div');
                playerGameWins.textContent = 'player game wins';
                playerGameWins.style.textAlign = 'left';
                displaySubContainer.append(playerGameWins);





                ////33333
            //DisplaySubDiv3
            const displaySubDiv3 = document.createElement('div');
                displaySubDiv3.setAttribute('id', 'display-sub-div3');
                displaySubDiv3.style.flex = '.3332';
                display.append(displaySubDiv3)

            ///DisplaySubcontainer3
            const displaySubContainer3 = document.createElement('div');
            displaySubContainer3.setAttribute('id', 'display-sub-container3');
            displaySubDiv3.append(displaySubContainer3);






            ////
            //DisplaySubDiv2
            const displaySubDiv2 = document.createElement('div');
                displaySubDiv2.setAttribute('id', 'display-sub-div2');
                displaySubDiv2.style.flex = '.3332';
                display.append(displaySubDiv2)

            ///DisplaySubcontainer2
            const displaySubContainer2 = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container2');
            displaySubDiv2.append(displaySubContainer2);

            //ComputerSelection                                    //*****
            const computerSelecion = document.createElement('div');
                computerSelecion.textContent = 'Computer\'s choice: ';
                computerSelecion.style.textAlign = 'right';
                displaySubContainer2.append(computerSelecion);

            //ComputerCurrentPoints                               //*****
            const computerCurrentPoints = document.createElement('div');
                computerCurrentPoints.textContent = 'Computer Score: ';
                computerCurrentPoints.style.textAlign = 'right';
                displaySubContainer2.append(computerCurrentPoints);

            //CompyterGameWins                              ///*******
            const computerGameWins = document.createElement('div');
                computerGameWins.textContent = 'computer game wins';
                computerGameWins.style.textAlign = 'right';
                displaySubContainer2.append(computerGameWins);
            
            
            

            // //ComputerSelection                                    //*****
            // const computerSelecion = document.createElement('div');
            //     computerSelecion.textContent = 'Computer\'s choice: ';
            //     computerSelecion.style.textAlign = 'right';
            //     displaySubContainer3.append(computerSelecion);

            // //ComputerCurrentPoints                               //*****
            // const computerCurrentPoints = document.createElement('div');
            //     computerCurrentPoints.textContent = 'Computer Score: ';
            //     computerCurrentPoints.style.textAlign = 'right';
            //     displaySubContainer3.append(computerCurrentPoints);

            // //ComputerGameWins                              ///*******
            // const computerGameWins = document.createElement('div');
            //     computerGameWins.textContent = 'computer game wins';
            //     computerGameWins.style.textAlign = 'right';
            //     displaySubContainer3.append(computerGameWins);

            //*************************************************////
            ///WinnerDisplay
            const winnerDisplay = document.createElement('div');
            winnerDisplay.setAttribute('id', 'winner-display');
            gameResultDiv.append(winnerDisplay);

            //RoundCurrent
            const roundCurrent = document.createElement('div');
                display.append(roundCurrent);

            

            

            // const currentPoint = document.createElement('div');
            //     // currentPoint.textContent = 'currentPoint';
            //     display.append(currentPoint);

            

            // const roundResult= document.createElement('div');
            //     roundResult.textContent = 'round Result';
            //     display.append(roundResult);

            //RondWinner     **********
            const roundWinner= document.createElement('div');
                roundWinner.textContent = 'round Winner';
                winnerDisplay.append(roundWinner);

            //GameOver        ***********
            const gameOver = document.createElement('div');
                gameOver.textContent = 'game over';
                winnerDisplay.append(gameOver);

            

            
            //WinnerMessage       **********
            const winnerMessage = document.createElement('div');
                winnerMessage.textContent = 'winner msg';
                winnerDisplay.append(winnerMessage);


            //FooterBar
            const footerBar = document.createElement('div');
            footerBar.textContent = 'footer bar'; 
            footerBar.style.height = '125px';
            gameResultDiv.append(footerBar)  







            ///////////////////BUTTONS///////////////////////////////

            //RockBtn
            const rockBtn = document.getElementById('btn1');
            rockBtn.addEventListener('click', ()  => {
                startNewRound('rock');      
            })
            
            //PaperBtn
            const paperBtn = document.getElementById('btn2');
            paperBtn.addEventListener('click', ()  => {
                startNewRound('paper');         
            })

            //ScissorsBtn
            const scissorBtn = document.getElementById('btn3');
            scissorBtn.addEventListener('click', ()  => {
                startNewRound('scissors');  
            })


            //////////////////FUNCTIONS/////////////////////////////

            function getComputerAnswer(answers) {
                const randomAnswer = Math.floor(Math.random() * answers.length);
                return answers[randomAnswer];
            }
            
            function playRound(playerChoices, computerChoices) {

                if (!answers.includes(playerChoices)) {
                    return "Player has to enter either: 'Rock', 'Paper' or 'Scissors'. \nTry Again"

                } 
                if (playerChoices === computerChoices){
                    draw++
                    return "It's a draw!";
                }
                else if ((playerChoices === 'scissors') && (computerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Rock breaks scissors Computer wins! 1 point`;


                } else if ((playerChoices === 'rock') && (computerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Rock breaks scissors Player Wins! 1 point.`


                } else if ((computerChoices === 'paper') && (playerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Scissors cut paper, Player wins! 1 point`;


                } else if ((computerChoices === 'scissors') && (playerChoices === 'paper')) {
                    computerWins++;
                    computerScore++;
                    return `Scissors cut paper, Computer wins!.1 point`;


                } else if ((computerChoices === 'paper') && (playerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Paper covers rock, Computer wins! 1 point`;


                } else if ((computerChoices === 'rock') && (playerChoices === 'paper')) {
                    playerWins++;
                    playerScore++;
                    return `Paper covers rock. Player wins 1 point`;


                }

            }

            // Function to start a new round
            function startNewRound(playerChoice) {
                const computerChoices = getComputerAnswer(answers);
                const result = playRound(playerChoice, computerChoices);
                roundCurrent.textContent = `Round: ${currentRound}`;
                console.log(roundCurrent);
             // roundResult.textContent = `Player chose ${playerChoice}, Computer chose ${computerChoices}`;
                roundWinner.textContent = result;
                computerSelecion.textContent = `Computer chose: ${computerChoices}`;
                playerSelecion.textContent = `Player chose: ${playerChoice}`;
                playerCurrentPoints.textContent = `Player Score: ${playerScore}`;
                computerCurrentPoints.textContent = `Computer Score: ${computerScore}`;
                playerGameWins.textContent = `Player Games won: ${playerWins}`;
                computerGameWins.textContent = `Computer Games Won: ${computerWins}`;
                gameOver.textContent = '';
                winnerMessage.textContent = '';
                gameDivHeading.textContent = 'Game Play';
                                
                // Move on to the next round or end the game
                if (currentRound < 5) {
                    currentRound++;     
                } 
                else 
                {
                    gameDivHeading.textContent = 'Game Over!';
                    gameOver.textContent = 'Game over';

                    if (playerScore > computerScore) {
                        winnerMessage.textContent = `You win the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                    } else if (computerScore > playerScore) {
                        winnerMessage.textContent = `Computer wins the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                    } else {
                        winnerMessage.textContent = 'It\'s a tie! Score: Player ' + playerScore + ', Computer ' + computerScore;
                    }
                    
                    currentRound = 1;
                    playerScore = 0;
                    playerWins = 0;
                    computerScore = 0;
                    computerWins = 0;                 
                    gameDivHeading.textContent = 'Game Results';
                    subHeading = document.createElement('p');
                    subHeading.textContent = 'Play again';
                    subHeading.style.textAlign = 'center';
                    subHeading.style.fontSize = '16px';
                    // subHeading.style.textAlign = 'center';
                    gameDivHeading.append(subHeading);

             
            }
               

                
            }

            // Function to wait for button click event
            function waitForButtonClick() {
                const rockBtn = document.getElementById('btn1');
                const paperBtn = document.getElementById('btn2');
                const scissorBtn = document.getElementById('btn3');
            }

           
    
        </script>
    </body>

</html>