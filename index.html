<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <style>
            
            *{
                box-sizing:border-box;
                border: solid 1px red;
            }
            div {
               text-align: center;
            }
            #main-div {
                display:flex;
                flex-direction: column;
                justify-content: center;
            }
            #game-heading{
                flex: 1;
            }

            #display {
                /* margin:20px 0; */
                height: 30vh;
            }

            #winner-display {
                /* position: absolute; */
                width: 100%;
                height: auto;
                /* margin-top: 10%; */
                /* display: none; */
            }
            #button-box{
                display:flex;
                justify-content: space-around;
                
            }
            #btn1, #btn2, #btn3 {
                width:175px;
                height:75px;
                margin: 20px auto;
                                
               
            }
           

            
        </style>
    </head>

    <body>
        <div id="button-box">
        <button id="btn1">Rock</button>
        <button id="btn2">Paper</button>
        <button id="btn3">Scissors</button>
        </div>

        <script>
             // Start the game by waiting for the first button click event///



             waitForButtonClick();
            const answers = ["rock", "paper", "scissors"];
            let currentRound = 1;
            let playerScore = 0;
            let playerWins = 0;
            let draw = 0;
            let computerScore = 0;
            let computerWins = 0;






            //////////////////HTML//////////////////////////

            // Main div after title //
            const gameResultDiv = document.createElement('div');
            gameResultDiv.setAttribute('id', 'main-div');
                document.body.prepend(gameResultDiv);


             //GameDivHeading
            const gameDivHeading = document.createElement('h1');
                gameDivHeading.setAttribute('id', 'game-heading')
                gameDivHeading.textContent = 'Play Game';
                gameResultDiv.append(gameDivHeading);

            //DisplayHeading
            const displayHeading = document.createElement('h7');
                displayHeading.textContent = 'Display';
                gameResultDiv.append(displayHeading);

            ////PlayersTitles
            const playersTitles = document.createElement('div');
                playersTitles.style.display = 'flex';
                displayHeading.append(playersTitles);

            //PlayTitle
            const playTitle = document.createElement('div');
                playTitle.textContent = 'Player Stats';
                playTitle.style.flex = '.50';
                playTitle.style.textAlign = 'left';
                playersTitles.append(playTitle);



            ////CompTitle
            const compTitle = document.createElement('div');
                compTitle.textContent = 'Computer Stats';
                compTitle.style.flex = '.50';
                compTitle.style.textAlign = 'right';
                playersTitles.append(compTitle);






               
             //////////////   

            //Display
            const display = document.createElement('div');
                display.setAttribute('id', 'display')
                display.style.display = 'flex';
                gameResultDiv.append(display);

            
            //DisplaySubDiv
            const displaySubDiv = document.createElement('div');
                displaySubDiv.setAttribute('id', 'display-sub-div');
                displaySubDiv.style.flex = '.20';
                display.append(displaySubDiv);

            ///DisplaySubcontainer                                  ////////**
            const displaySubContainer = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container');
            displaySubContainer.style.justifyContent = 'space-between';
            displaySubDiv.append(displaySubContainer);

            //PlayerSelection                                   ////////
            const playerSelecion = document.createElement('div');
                playerSelecion.textContent = ' Choice: '; 
                playerSelecion.style.textAlign = 'left';
                displaySubContainer.append(playerSelecion);

            //PlayerCurrentPoints                                      /////
            const playerCurrentPoints = document.createElement('div');
                playerCurrentPoints.textContent = ' Score: ';
                playerCurrentPoints.style.textAlign = 'left';
                displaySubContainer.append(playerCurrentPoints);

            //PlayerGameWins                                    ////////
            const playerGameWins = document.createElement('div');
                playerGameWins.textContent = ' Games won:';
                playerGameWins.style.textAlign = 'left';
                displaySubContainer.append(playerGameWins);





                ////33333
            //DisplaySubDiv3
            const displaySubDiv3 = document.createElement('div');
                displaySubDiv3.setAttribute('id', 'display-sub-div3');
                displaySubDiv3.style.flex = '.60';
                displaySubDiv3.style.justifyContent ='space-between';
                display.append(displaySubDiv3)

            ///DisplaySubcontainer3
            const displaySubContainer3 = document.createElement('div');
            displaySubContainer3.setAttribute('id', 'display-sub-container3');
            displaySubDiv3.append(displaySubContainer3);






            ////
            //DisplaySubDiv2
            const displaySubDiv2 = document.createElement('div');
                displaySubDiv2.setAttribute('id', 'display-sub-div2');
                displaySubDiv2.style.flex = '.20';
                display.append(displaySubDiv2)

            ///DisplaySubcontainer2 computer game info box
            const displaySubContainer2 = document.createElement('div');
            displaySubContainer.setAttribute('id', 'display-sub-container2');
            displaySubContainer2.style.justifyContent = 'space-between';
            displaySubContainer2.style.flexDirection = 'column';
            displaySubDiv2.append(displaySubContainer2);

            //ComputerSelection                                    //*****
            const computerSelecion = document.createElement('div');
                computerSelecion.textContent = ' Choice: ';
                computerSelecion.style.textAlign = 'left';
                displaySubContainer2.append(computerSelecion);

            //ComputerCurrentPoints                               //*****
            const computerCurrentPoints = document.createElement('div');
                computerCurrentPoints.textContent = ' Score: ';
                computerCurrentPoints.style.textAlign = 'left';
                displaySubContainer2.append(computerCurrentPoints);

            //CompyterGameWins                              ///*******
            const computerGameWins = document.createElement('div');
                computerGameWins.textContent = ' Game Wins';
                computerGameWins.style.textAlign = 'left';
                displaySubContainer2.append(computerGameWins);


            //*************************************************////




            ///WinnerDisplay                //////////////////////
            const winnerDisplay = document.createElement('div');
            winnerDisplay.setAttribute('id', 'winner-display');
            winnerDisplay.style.justifyContent = 'space-between';
            displaySubDiv3.append(winnerDisplay);

            const subHeading = document.createElement('div');
                subHeading.style.textAlign = 'center';
                subHeading.style.fontSize = '16px';
                subHeading.style.marginBottom = '0';
                subHeading.textContent = ''
                
                winnerDisplay.append(subHeading);

            
            //RoundDisplay
            const roundDisplay = document.createElement('div');
                roundDisplay.setAttribute('id', 'round-display');
                roundDisplay.textContent = 'Round: 0';
                gameResultDiv.append(roundDisplay);
                console.log(roundDisplay)


            //RondWinner     **********
            const roundWinner= document.createElement('div');
                roundWinner.textContent = 'Round Results';
                gameResultDiv.append(roundWinner);


            



            /////END Of GAME /////////////////////////////    

            
            //GameOver        ***********
            const gameOver = document.createElement('div');
                // gameOver.textContent = 'game over';
                winnerDisplay.append(gameOver);            

            
            //WinnerMessage       **********
            const winnerMessage = document.createElement('div');
                // winnerMessage.textContent = 'winner msg';
                winnerDisplay.append(winnerMessage);


             ///////////////////BUTTONS///////////////////////////////

            

            ///ButtonsContainer
            const buttonsContainer = document.getElementById('button-box');
            gameResultDiv.append(buttonsContainer);

            //RockBtn
            const rockBtn = document.getElementById('btn1');
            rockBtn.append()
            rockBtn.addEventListener('click', ()  => {
                startNewRound('rock');      
            });
            
            //PaperBtn
            const paperBtn = document.getElementById('btn2');
            paperBtn.addEventListener('click', ()  => {
                startNewRound('paper');         
            });

            //ScissorsBtn
            const scissorBtn = document.getElementById('btn3');
            scissorBtn.addEventListener('click', ()  => {
                startNewRound('scissors');  
            });


            //FooterBar
            const footerBar = document.createElement('div');
            footerBar.textContent = 'footer bar'; 
            footerBar.style.height = '75px';
            console.log(footerBar)
            gameResultDiv.append(footerBar);




              







           
            //////////////////FUNCTIONS/////////////////////////////

            function getComputerAnswer(answers) {
                const randomAnswer = Math.floor(Math.random() * answers.length);
                return answers[randomAnswer];
            }
            
            function playRound(playerChoices, computerChoices) {

                if (!answers.includes(playerChoices)) {
                    return "Player has to enter either: 'Rock', 'Paper' or 'Scissors'. \nTry Again"

                } 
                if (playerChoices === computerChoices){
                    draw++
                    return "It's a draw!";
                }
                else if ((playerChoices === 'scissors') && (computerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Rock breaks scissors Computer wins! 1 point`;


                } else if ((playerChoices === 'rock') && (computerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Rock breaks scissors Player Wins! 1 point.`


                } else if ((computerChoices === 'paper') && (playerChoices === 'scissors')) {
                    playerWins++;
                    playerScore++;
                    return `Scissors cut paper, Player wins! 1 point`;


                } else if ((computerChoices === 'scissors') && (playerChoices === 'paper')) {
                    computerWins++;
                    computerScore++;
                    return `Scissors cut paper, Computer wins!.1 point`;


                } else if ((computerChoices === 'paper') && (playerChoices === 'rock')) {
                    computerWins++;
                    computerScore++;
                    return `Paper covers rock, Computer wins! 1 point`;


                } else if ((computerChoices === 'rock') && (playerChoices === 'paper')) {
                    playerWins++;
                    playerScore++;
                    return `Paper covers rock. Player wins 1 point`;


                }

            }

            // Function to start a new round
            function startNewRound(playerChoice) {
                subHeading.textContent = '';
                const computerChoices = getComputerAnswer(answers);
                const result = playRound(playerChoice, computerChoices);
                roundDisplay.textContent = `Round: ${currentRound}`;
                roundWinner.textContent = result;
                computerSelecion.textContent = ` ${computerChoices}`;
                playerSelecion.textContent = ` ${playerChoice}`;
                playerCurrentPoints.textContent = ` Score: ${playerScore}`;
                computerCurrentPoints.textContent = ` Score: ${computerScore}`;
                playerGameWins.textContent = ` Games won: ${playerWins}`;
                computerGameWins.textContent = ` Games Won: ${computerWins}`;
                gameOver.textContent = '';
                winnerMessage.textContent = '';
                gameDivHeading.textContent = 'Game Play';
                
                                
                // Move on to the next round or end the game
                if (currentRound < 5) {
                    currentRound++;     
                } 
                else 
                {
                    gameOver.textContent = 'Game over';
                    
                    if (playerScore > computerScore) {
                        winnerMessage.textContent = `You win the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                        subHeading.textContent = 'Play Again!';
                        winnerDisplay.append(subHeading);
                    } else if (computerScore > playerScore) {
                        winnerMessage.textContent = `Computer wins the game! Score: Player ${playerScore}, Computer ${computerScore}`;
                    } else {
                        winnerMessage.textContent = 'It\'s a tie! Score: Player ' + playerScore + ', Computer ' + computerScore;
                        subHeading.textContent = 'Play Again!';
                        winnerDisplay.append(subHeading);
                    }
                    
                    currentRound = 1;
                    playerScore = 0;
                    playerWins = 0;
                    computerScore = 0;
                    computerWins = 0;                 
                    gameDivHeading.textContent = 'Game Results';
                    winnerDisplay.style.display = 'visible';
                    subHeading.textContent = 'Play Again!';
                    

             
            }
               

                
            }

            // Function to wait for button click event
            function waitForButtonClick() {
                const rockBtn = document.getElementById('btn1');
                const paperBtn = document.getElementById('btn2');
                const scissorBtn = document.getElementById('btn3');
            }

           
    
        </script>
    </body>

</html>